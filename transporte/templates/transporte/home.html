{% extends 'transporte/base.html' %}

{% block content %}
  
<section class="py-3 text-center">

    <h4 class="home-title">
        CapriTech – Tecnología a tu alcance
    </h4>

    <p class="home-text mx-auto">
        Pensamos en vos y estamos para ayudarte. Con esta plataforma vas a poder supervisar tus vehículos 
        durante todo el recorrido, conocer ubicaciones exactas y recibir información clave para la toma de decisiones. 
        Una herramienta creada para simplificar procesos y potenciar el crecimiento colectivo de esta gran empresa.
    </p>

    <!-- Carrusel de novedades -->
        <!-- Carrusel de novedades -->
<div class="swiper mySwiper mt-5">
    <div class="swiper-wrapper">
        {% for n in novedades %}
        <div class="swiper-slide">
            <div class="novedad-card" onclick="toggleDetalle(this)">

                <img src="{{ n.imagen.url }}" class="novedad-img" alt="Imagen novedad">

                <h5 class="novedad-title">
                    {{ n.titulo }}
                </h5>

                <!-- Descripción oculta -->
                <p class="novedad-detalle" style="display: none;">
    {{ n.descripcion }}
</p>


            </div>
        </div>
        {% endfor %}
    </div>

    <!-- Controles -->
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
</div>


<!-- Swiper -->
<script>
var swiper = new Swiper(".mySwiper", {
    slidesPerView: 3,
    spaceBetween: 40,
    centeredSlides: true,
    loop: true,
    autoplay: {
        delay: 2500,
        disableOnInteraction: false,
    },
    navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
    },
});
</script>

<script>
document.addEventListener("DOMContentLoaded", function() {
    document.querySelectorAll(".novedad-card").forEach(card => {
        card.addEventListener("click", function(e) {
            e.stopPropagation();

            const descripcion = this.querySelector(".novedad-detalle");
            descripcion.style.display = 
                descripcion.style.display === "block" ? "none" : "block";
        });
    });
});
</script>




</section>


{% endblock %}

